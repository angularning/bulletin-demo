<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>标讯通 - 项目详情</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #F2F2F7;
            -webkit-tap-highlight-color: transparent;
        }
        .ios-status-bar {
            background-color: #FFFFFF;
            height: 44px;
            position: sticky;
            top: 0;
            z-index: 50;
        }
        .watermark {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                -45deg,
                rgba(128, 128, 128, 0.1),
                rgba(128, 128, 128, 0.1) 10px,
                rgba(128, 128, 128, 0.2) 10px,
                rgba(128, 128, 128, 0.2) 20px
            );
            pointer-events: none;
        }
        .blur-content {
            filter: blur(4px);
            user-select: none;
        }
        
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 100;
        }
        
        .modal {
            position: fixed;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 100%;
            background: white;
            border-radius: 16px 16px 0 0;
            z-index: 101;
        }
        
        .modal.show {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translate(-50%, 100%); }
            to { transform: translate(-50%, 0); }
        }
    </style>
</head>
<body class="pb-20">
    <!-- iOS 状态栏 -->
    <div class="ios-status-bar flex items-center justify-between px-4">
        <div class="text-sm font-medium">9:41</div>
        <div class="flex items-center space-x-1">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>

    <!-- 顶部导航栏 -->
    <div class="bg-white sticky top-11 z-40 border-b border-gray-200">
        <div class="flex items-center h-11 px-4">
            <a href="home.html" class="text-gray-600">
                <i class="fas fa-chevron-left"></i>
            </a>
            <h1 class="ml-4 text-lg font-semibold flex-1 truncate">智慧城市基础设施建设项目招标公告</h1>
            <button class="ml-4 text-gray-600">
                <i class="far fa-bookmark"></i>
            </button>
            <button class="ml-4 text-gray-600">
                <i class="fas fa-share-alt"></i>
            </button>
        </div>
    </div>

    <!-- 项目基本信息 -->
    <div class="bg-white p-4">
        <div class="flex items-center justify-between">
            <span class="bg-red-100 text-red-600 text-xs px-2 py-0.5 rounded">重点项目</span>
            <span class="text-xs text-gray-500">发布时间: 2024-05-28</span>
        </div>
        <div class="mt-4 space-y-2">
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">项目编号：</span>
                <span class="text-gray-900">BJZF2024052801</span>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">采购单位：</span>
                <span class="text-gray-900">北京市智慧城市建设办公室</span>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">项目预算：</span>
                <span class="text-blue-600 font-medium">2.5亿元</span>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">截止时间：</span>
                <span class="text-red-600">2024-06-15 17:00</span>
            </div>
        </div>
    </div>

    <!-- 项目详细内容 -->
    <div class="bg-white mt-2 p-4">
        <h2 class="text-lg font-semibold mb-4">项目详情</h2>
        <div class="space-y-4">
            <section>
                <h3 class="text-base font-medium mb-2">采购内容</h3>
                <div class="text-sm text-gray-600 leading-relaxed">
                    本项目为某市智慧城市基础设施建设项目，具体包含以下内容：
                    <ul class="list-disc pl-4 mt-2 space-y-1">
                        <li>智能交通管理系统</li>
                        <li>城市安防监控系统</li>
                        <li>市政设施物联网平台</li>
                        <li>智慧城市数据中心建设</li>
                    </ul>
                </div>
            </section>

            <!-- 付费内容区域 -->
            <section class="relative">
                <h3 class="text-base font-medium mb-2">商务要求</h3>
                <div class="blur-content">
                    <div class="text-sm text-gray-600 leading-relaxed">
                        投标人资质要求：
                        1. 具有相关领域软件开发及系统集成一级资质
                        2. 近三年完成过类似项目不少于3个
                        3. 注册资金不低于5000万元
                        4. 具有有效期内的ISO9001质量管理体系认证
                    </div>
                </div>
                <div class="watermark"></div>
                <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg">
                    <button onclick="showSubscribeModal()" class="bg-blue-500 text-white px-6 py-2 rounded-full text-sm font-medium">
                        付费查看完整内容
                    </button>
                </div>
            </section>
        </div>
    </div>

    <!-- 招标文件 -->
    <div class="bg-white mt-2 p-4">
        <h2 class="text-lg font-semibold mb-4">招标文件</h2>
        <div class="space-y-3">
            <a href="#" class="flex items-center p-3 bg-gray-50 rounded-lg">
                <i class="far fa-file-pdf text-red-500 text-xl"></i>
                <div class="ml-3 flex-1">
                    <div class="text-sm font-medium">招标文件正文.pdf</div>
                    <div class="text-xs text-gray-500">12.5MB</div>
                </div>
                <button class="text-blue-500 text-sm">
                    下载
                </button>
            </a>
            <a href="#" class="flex items-center p-3 bg-gray-50 rounded-lg">
                <i class="far fa-file-word text-blue-500 text-xl"></i>
                <div class="ml-3 flex-1">
                    <div class="text-sm font-medium">投标文件模板.docx</div>
                    <div class="text-xs text-gray-500">2.8MB</div>
                </div>
                <button class="text-blue-500 text-sm">
                    下载
                </button>
            </a>
        </div>
    </div>

    <!-- 联系方式 -->
    <div class="bg-white mt-2 p-4 mb-4">
        <h2 class="text-lg font-semibold mb-4">联系方式</h2>
        <div class="space-y-2">
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">联系人：</span>
                <span class="text-gray-900">张先生</span>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">联系电话：</span>
                <span class="text-blue-600">010-xxxxxxxx</span>
            </div>
            <div class="flex items-center text-sm">
                <span class="text-gray-500 w-20">电子邮箱：</span>
                <span class="text-blue-600">contact@example.com</span>
            </div>
        </div>
    </div>

    <!-- 底部操作栏 -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 flex items-center justify-between">
        <div class="flex items-center">
            <button class="flex flex-col items-center mr-6">
                <i class="far fa-bookmark text-gray-600 text-xl"></i>
                <span class="text-xs text-gray-600 mt-1">收藏</span>
            </button>
            <button class="flex flex-col items-center">
                <i class="far fa-share-square text-gray-600 text-xl"></i>
                <span class="text-xs text-gray-600 mt-1">分享</span>
            </button>
        </div>
        <button class="bg-blue-500 text-white px-8 py-2 rounded-full text-sm font-medium">
            立即投标
        </button>
    </div>

    <!-- 订阅服务弹框 -->
    <div id="subscribeModal" class="modal-backdrop">
        <div class="modal">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold">选择订阅方案</h3>
                    <button onclick="hideSubscribeModal()" class="text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <!-- 订阅服务弹框内的选项修改 -->
                <div class="space-y-3">
                    <!-- 单次付费 -->
                    <a onclick="showPaymentModal('single', 29)" class="block p-4 border border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-medium">单次查看</h4>
                                <p class="text-sm text-gray-500 mt-1">立即查看此篇完整内容</p>
                            </div>
                            <div class="text-right">
                                <div class="text-blue-500 font-medium">￥29</div>
                                <div class="text-xs text-gray-400">单次付费</div>
                            </div>
                        </div>
                    </a>
                
                    <!-- 包周 -->
                    <a onclick="showPaymentModal('weekly', 99)" class="block p-4 border border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-medium">包周会员</h4>
                                <p class="text-sm text-gray-500 mt-1">7天内无限次查看</p>
                            </div>
                            <div class="text-right">
                                <div class="text-blue-500 font-medium">￥99</div>
                                <div class="text-xs text-gray-400">￥14/天</div>
                            </div>
                        </div>
                    </a>
                    <a onclick="showPaymentModal('monthly', 299)" class="block p-4 border border-blue-500 rounded-xl bg-blue-50 relative">
                        <div class="absolute -top-2 right-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full">
                            推荐
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-medium">月度会员</h4>
                                <p class="text-sm text-gray-500 mt-1">30天内无限次查看</p>
                            </div>
                            <div class="text-right">
                                <div class="text-blue-500 font-medium">￥299</div>
                                <div class="text-xs text-gray-400">￥9.9/天</div>
                            </div>
                        </div>
                    </a>
                    <a onclick="showPaymentModal('yearly', 99)" class="block p-4 border border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-medium">年度会员</h4>
                                <p class="text-sm text-gray-500 mt-1">7天内无限次查看</p>
                            </div>
                            <div class="text-right">
                                <div class="text-blue-500 font-medium">￥99</div>
                                <div class="text-xs text-gray-400">￥14/天</div>
                            </div>
                        </div>
                    </a>
                
                </div>
            </div>
            
            <!-- 将支付弹框移到订阅弹框外部 -->
            </div>
            </div>
            
            <!-- 支付确认弹框 -->
            <div id="paymentModal" class="modal-backdrop">
                <div class="modal">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-semibold">确认支付</h3>
                            <button onclick="hidePaymentModal()" class="text-gray-400">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
            
                        <div class="space-y-4">
                            <div class="text-center py-6">
                                <div class="text-3xl font-medium text-blue-500" id="paymentAmount">￥299</div>
                                <div class="text-gray-500 mt-2" id="paymentPlan">包月会员</div>
                            </div>
            
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center">
                                        <img src="https://example.com/wechat-pay.png" class="w-6 h-6 mr-2" alt="微信支付">
                                        <span>微信支付</span>
                                    </div>
                                    <input type="radio" name="payment" value="wechat" checked class="text-blue-500">
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center">
                                        <img src="https://example.com/alipay.png" class="w-6 h-6 mr-2" alt="支付宝">
                                        <span>支付宝</span>
                                    </div>
                                    <input type="radio" name="payment" value="alipay" class="text-blue-500">
                                </div>
                            </div>
            
                            <button onclick="simulatePayment()" class="w-full bg-blue-500 text-white py-3 rounded-lg font-medium">
                                确认支付
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <script>
                // 更新现有的函数
                function showPaymentModal(plan, amount) {
                    // 先隐藏订阅弹框
                    document.getElementById('subscribeModal').style.display = 'none';
                    
                    // 显示支付弹框
                    const paymentModal = document.getElementById('paymentModal');
                    paymentModal.style.display = 'block';
                    paymentModal.querySelector('.modal').classList.add('show');
                    
                    // 更新支付信息
                    document.getElementById('paymentAmount').textContent = `￥${amount}`;
                    document.getElementById('paymentPlan').textContent = getPlanName(plan);
                    
                    // 保持body滚动锁定
                    document.body.style.overflow = 'hidden';
                }
    
                function hideSubscribeModal() {
                    document.getElementById('subscribeModal').style.display = 'none';
                    document.querySelector('.modal').classList.remove('show');
                    document.body.style.overflow = 'auto';
                }
    
                function getPlanName(plan) {
                    const plans = {
                        single: '单次查看',
                        weekly: '包周会员',
                        monthly: '包月会员',
                        yearly: '包年会员'
                    };
                    return plans[plan] || '';
                }
    
                function simulatePayment() {
                    // 模拟支付过程
                    const loadingBtn = document.querySelector('#paymentModal button');
                    loadingBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>支付中...';
                    loadingBtn.disabled = true;
    
                    setTimeout(() => {
                        hideSubscribeModal();
                        alert('支付成功！');
                        // 这里可以添加刷新内容或其他后续操作
                        location.reload();
                    }, 2000);
                }
            </script>
        </div>

        <div class="mt-4 text-xs text-gray-400 text-center">
            开通会员即表示同意《会员服务协议》
        </div>
    </div>

    <script>
        function showSubscribeModal() {
            document.getElementById('subscribeModal').style.display = 'block';
            document.querySelector('.modal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function hideSubscribeModal() {
            document.getElementById('subscribeModal').style.display = 'none';
            document.querySelector('.modal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }
    </script>
</body>
</html>